{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/matt/Desktop/code/graphql_api/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matt/Desktop/code/graphql_api/frontend/src/components/Users.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  query {\\n    users {\\n      name\\n      email\\n      booksCount\\n    }\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport UserAvatar from './UserAvatar';\nimport CreateUser from './CreateUser';\nconst USERS_QUERY = gql(_templateObject());\n\nclass Users extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.updateUsers = (cache, {\n      data: {\n        createUser\n      }\n    }) => {\n      const _cache$readQuery = cache.readQuery({\n        query: USERS_QUERY\n      }),\n            users = _cache$readQuery.users;\n\n      cache.writeQuery({\n        query: USERS_QUERY,\n        data: {\n          users: users.concat([createUser.user])\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Query, {\n      query: USERS_QUERY,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, \"Fetching..\");\n      if (error) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Error!\");\n      return React.createElement(\"div\", {\n        className: \"flex flex-wrap mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, data.users.map(user => {\n        return React.createElement(\"div\", {\n          key: user.id,\n          className: \"m-4 w-1/4 rounded overflow-hidden shadow-lg\",\n          onClick: this.props.selectUser.bind(this, user),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, React.createElement(UserAvatar, {\n          user: user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: \"m-4 w-1/4 rounded overflow-hidden shadow-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(CreateUser, {\n        onCreateUser: this.updateUsers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      })));\n    });\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["/Users/matt/Desktop/code/graphql_api/frontend/src/components/Users.js"],"names":["React","Component","Query","gql","UserAvatar","CreateUser","USERS_QUERY","Users","updateUsers","cache","data","createUser","readQuery","query","users","writeQuery","concat","user","render","loading","error","map","id","props","selectUser","bind"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,MAAMC,WAAW,GAAGH,GAAH,mBAAjB;;AAUA,MAAMI,KAAN,SAAoBN,SAApB,CAA8B;AAAA;AAAA;;AAAA,SA8B5BO,WA9B4B,GA8Bd,CAACC,KAAD,EAAQ;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AAAR,KAAR,KAAqC;AAAA,+BAC/BF,KAAK,CAACG,SAAN,CAAgB;AAAEC,QAAAA,KAAK,EAAEP;AAAT,OAAhB,CAD+B;AAAA,YACzCQ,KADyC,oBACzCA,KADyC;;AAEjDL,MAAAA,KAAK,CAACM,UAAN,CAAiB;AACfF,QAAAA,KAAK,EAAEP,WADQ;AAEfI,QAAAA,IAAI,EAAE;AAAEI,UAAAA,KAAK,EAAEA,KAAK,CAACE,MAAN,CAAa,CAACL,UAAU,CAACM,IAAZ,CAAb;AAAT;AAFS,OAAjB;AAID,KApC2B;AAAA;;AAC5BC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEZ,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC;AAAEa,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBV,MAAAA;AAAlB,KAAD,KAA8B;AAC7B,UAAIS,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACb,UAAIC,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACX,aACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGV,IAAI,CAACI,KAAL,CAAWO,GAAX,CAAgBJ,IAAD,IAAU;AACxB,eACE;AACE,UAAA,GAAG,EAAEA,IAAI,CAACK,EADZ;AAEE,UAAA,SAAS,EAAC,6CAFZ;AAGE,UAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,UAAX,CAAsBC,IAAtB,CAA2B,IAA3B,EAAiCR,IAAjC,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAEA,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,CADF;AASD,OAVA,CADH,EAYE;AAAK,QAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,YAAY,EAAE,KAAKT,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAZF,CADF;AAkBD,KAtBH,CADF;AA0BD;;AA5B2B;;AAsC9B,eAAeD,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport UserAvatar from './UserAvatar';\nimport CreateUser from './CreateUser';\n\nconst USERS_QUERY = gql`\n  query {\n    users {\n      name\n      email\n      booksCount\n    }\n  }\n`;\n\nclass Users extends Component {\n  render() {\n    return (\n      <Query query={USERS_QUERY}>\n        {({ loading, error, data }) => {\n          if (loading) return <div>Fetching..</div>\n          if (error) return <div>Error!</div>\n          return (\n            <div className=\"flex flex-wrap mb-4\">\n              {data.users.map((user) => {\n                return (\n                  <div\n                    key={user.id}\n                    className=\"m-4 w-1/4 rounded overflow-hidden shadow-lg\"\n                    onClick={this.props.selectUser.bind(this, user)}\n                  >\n                    <UserAvatar user={user} />\n                  </div>\n                )\n              })}\n              <div className=\"m-4 w-1/4 rounded overflow-hidden shadow-lg\">\n                <CreateUser onCreateUser={this.updateUsers} />\n              </div>\n            </div>\n          )\n        }}\n      </Query>\n    )\n  }\n\n  updateUsers = (cache, { data: { createUser } }) => {\n    const { users } = cache.readQuery({ query: USERS_QUERY });\n    cache.writeQuery({\n      query: USERS_QUERY,\n      data: { users: users.concat([createUser.user]) },\n    });\n  }\n}\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}